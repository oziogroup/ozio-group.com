---
interface Props {
  variant?: 'orbs' | 'grid' | 'gradient';
  intensity?: 'subtle' | 'medium' | 'strong';
}

const { variant = 'orbs', intensity = 'subtle' } = Astro.props;

const intensityMap = {
  subtle: 'opacity-20',
  medium: 'opacity-30',
  strong: 'opacity-40',
};

const opacityClass = intensityMap[intensity];
---

<div class="absolute inset-0 overflow-hidden pointer-events-none -z-10" aria-hidden="true">
  {variant === 'orbs' && (
    <div class={`absolute inset-0 ${opacityClass}`}>
      <div 
        class="absolute top-1/4 -left-1/4 w-96 h-96 bg-accent/30 rounded-full blur-3xl animate-float-slow"
        data-parallax="0.3"
      />
      <div 
        class="absolute top-1/2 -right-1/4 w-80 h-80 bg-accent-hover/20 rounded-full blur-3xl animate-float-medium"
        data-parallax="0.5"
      />
      <div 
        class="absolute -bottom-1/4 left-1/3 w-72 h-72 bg-accent/25 rounded-full blur-3xl animate-float-fast"
        data-parallax="0.4"
      />
    </div>
  )}

  {variant === 'grid' && (
    <div class={`absolute inset-0 ${opacityClass}`}>
      <div 
        class="absolute inset-0"
        style="background-image: linear-gradient(rgba(245, 158, 11, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(245, 158, 11, 0.03) 1px, transparent 1px); background-size: 60px 60px;"
      />
    </div>
  )}

  {variant === 'gradient' && (
    <div class={`absolute inset-0 ${opacityClass}`}>
      <div class="absolute inset-0 bg-gradient-to-br from-accent/10 via-transparent to-accent-hover/10 animate-gradient" />
    </div>
  )}
</div>

<style>
  @keyframes float-slow {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(30px, -30px) scale(1.05); }
  }
  
  @keyframes float-medium {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(-20px, 20px) scale(1.03); }
  }
  
  @keyframes float-fast {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(15px, -15px) scale(1.02); }
  }
  
  @keyframes gradient-shift {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.5; }
  }
  
  .animate-float-slow {
    animation: float-slow 20s ease-in-out infinite;
  }
  
  .animate-float-medium {
    animation: float-medium 15s ease-in-out infinite;
  }
  
  .animate-float-fast {
    animation: float-fast 12s ease-in-out infinite;
  }
  
  .animate-gradient {
    animation: gradient-shift 10s ease-in-out infinite;
  }
  
  @media (prefers-reduced-motion: reduce) {
    .animate-float-slow,
    .animate-float-medium,
    .animate-float-fast,
    .animate-gradient {
      animation: none;
    }
  }
</style>
